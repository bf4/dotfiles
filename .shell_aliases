#!/usr/bin/env sh
#alias ls='ls --color=auto'
alias gitdiffgraph="git log --pretty=format:'%h %s' --graph"
alias ber='bundle exec rake'
alias bes='bundle exec spec -fs'
alias bec='bundle exec cucumber -r features'
alias bsc='bundle exec script/console'
alias bounce='touch tmp/restart.txt'
alias be='bundle exec'
#
# use macvim binary if present (it has ruby compiled)
# alias vim="/Applications/MacVim.app/Contents/MacOS/Vim"
# [[ -s "/Applications/MacVim.app/Contents/MacOS/Vim" ]] && . alias vim="/Applications/MacVim.app/Contents/MacOS/Vim"
gitreset() {
  git fetch;
  git reset --hard origin/$(git branch | grep '*' | cut -d' ' -f2)
}
function parse_git_branch {
  git branch --no-color 2> /dev/null | sed -e '/^[^\*]/d' -e 's/^\*\ \(.*\)/(\1) /'
}
function gitpullr {
  git pull --rebase origin $(git branch | grep '*' | cut -d' ' -f2)
}
alias tmux="TERM=screen-256color-bce tmux"
function git_last_tag {
  git for-each-ref --sort='*authordate' --format='%(tag)' refs/tags | egrep "^${branch}\.[0-9]+$" | tail -n1
}
alias git="hub"
# Like less but outputs colors instead of raw ansi escape codes
# brew install source-highlight
# export LESSOPEN="| `brew --prefix`/bin/src-hilite-lesspipe.sh %s"
export LESS=' -R '
export LESSCHARSET=utf-8 # don't print out unicode as e.g. <E2><80><99>
# alias vless='vim -u /usr/share/vim/vim71/macros/less.vim'
# https://superuser.com/questions/71588/how-to-syntax-highlight-via-less
# function cless () {
#     pygmentize -f terminal "$1" | less -R
# }
# alias vless="/Applications/MacVim.app/Contents/Resources/vim/runtime/macros/less.sh"

alias pg="pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log"
